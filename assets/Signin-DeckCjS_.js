import{u as N,o as f,c as q,w as o,r as t,a as B,b as l,h as E,i as C,d as P,e as v,f as j,g as n}from"./index-BamXPezn.js";const z={key:0,class:"text-error font-weight-bold"},U={__name:"Signin",setup(M){const p=N(),_=B(),u=n(null),w=n(!1),c=n(!1),m=n(!1),s=n({email:"",password:""}),r={required:a=>!!a||"Required",minPass:a=>a.length>=8||"Minimum 8 characters",email:a=>/.+@.+\..+/.test(a)||"Email not valid"},g=async()=>{const{valid:a}=await u.value.validate();if(a){c.ref=!0;const e={email:s.value.email,password:s.value.password};(await p.signin(e)).error?m.value=!0:_.push({name:"Home"})}};return(a,e)=>{const i=t("v-text-field"),b=t("v-chip"),x=t("v-card-text"),V=t("v-btn"),h=t("v-card-actions"),y=t("v-form"),S=t("v-card"),k=t("v-container");return f(),q(k,{class:"fill-height d-flex align-center justify-center"},{default:o(()=>[l(S,{class:"d-flex flex-column align-center w-100","max-width":"450"},{title:o(()=>[...e[2]||(e[2]=[j("span",{class:"text-h4 font-weight-bold mt-4"},"Signin",-1)])]),default:o(()=>[m.value?(f(),E("span",z,"Error")):C("",!0),l(y,{ref_key:"form",ref:u,class:"w-100",onSubmit:P(g,["prevent"])},{default:o(()=>[l(x,null,{default:o(()=>[l(i,{modelValue:s.value.email,"onUpdate:modelValue":e[0]||(e[0]=d=>s.value.email=d),label:"Email",variant:"outlined",clearable:"",rules:[r.required,r.email]},null,8,["modelValue","rules"]),l(i,{modelValue:s.value.password,"onUpdate:modelValue":e[1]||(e[1]=d=>s.value.password=d),label:"Password",type:"password",variant:"outlined",clearable:"",rules:[r.required,r.minPass]},null,8,["modelValue","rules"]),e[4]||(e[4]=v(" New? ",-1)),l(b,{size:"small",label:"",to:"/signup"},{default:o(()=>[...e[3]||(e[3]=[v("Sign up",-1)])]),_:1})]),_:1}),l(h,{class:"justify-end w-100"},{default:o(()=>[l(V,{type:"submit",variant:"tonal",color:"secondary",size:"large",disabled:w.value,loading:c.value,text:"Signin"},null,8,["disabled","loading"])]),_:1})]),_:1},512)]),_:1})]),_:1})}}};export{U as default};
