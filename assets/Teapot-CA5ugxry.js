import{s as G,o as c,c as b,w as n,r as a,a as M,b as l,_ as R,e as x,t as k,f as r,h as D,F,k as S,i as q,g as u}from"./index-BamXPezn.js";const z={class:"text-h4 font-weight-bold mt-4"},E={class:"text-center"},I={class:"d-flex justify-center align-center ga-5"},O={__name:"Teapot",setup(L){const V=G(),C=M(),w=u(!1),v=u(""),m=u(""),d=u(!1),o=u([]),i=u(""),y=()=>{if(i.value.trim()!==""){const s=i.value.trim();o.value.includes(s)||o.value.push(s),i.value=""}},N=s=>{o.value=o.value.filter(e=>e!==s)},j=async()=>{const s={profile_usernames:o.value,teapot_description:m.value,teapot_name:v.value},e=await V.createGroup(s);e.error===null&&C.push(`/group/${e.data}`)};return(s,e)=>{const $=a("v-icon"),p=a("v-text-field"),_=a("v-card"),g=a("v-card-text"),f=a("v-btn"),h=a("v-card-actions"),B=a("v-form"),T=a("v-chip"),U=a("v-bottom-sheet"),A=a("v-container");return c(),b(A,{fluid:"",class:"fill-height d-flex justify-center align-center"},{default:n(()=>[l(R,{backIcon:"",title:"Go back"}),l(_,{class:"d-flex flex-column align-center w-100","max-width":"450"},{title:n(()=>[r("span",z,[l($,{icon:"mdi-kettle",size:"xs"}),e[6]||(e[6]=x(" New Teapot",-1))])]),default:n(()=>[l(B,{ref:"form",class:"w-100"},{default:n(()=>[l(g,null,{default:n(()=>[l(p,{modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=t=>v.value=t),label:"Name",variant:"outlined",clearable:"",rules:[t=>!!t||"Required"]},null,8,["modelValue","rules"]),l(p,{modelValue:m.value,"onUpdate:modelValue":e[1]||(e[1]=t=>m.value=t),label:"Description",variant:"outlined",clearable:""},null,8,["modelValue"]),l(_,{variant:"tonal",title:"Add members","append-icon":"mdi-chevron-right",onClick:e[2]||(e[2]=t=>d.value=!d.value)},{subtitle:n(()=>[x(k(o.value.length>5?o.value.slice(0,5).join(", ")+"...":o.value.join(", ")),1)]),_:1})]),_:1}),l(h,{class:"justify-end w-100"},{default:n(()=>[l(f,{variant:"tonal",color:"secondary",disabled:w.value,text:"Create","prepend-icon":"mdi-kettle",onClick:j},null,8,["disabled"])]),_:1})]),_:1},512)]),_:1}),r("div",E,[l(U,{modelValue:d.value,"onUpdate:modelValue":e[5]||(e[5]=t=>d.value=t),inset:""},{default:n(()=>[l(_,{class:"border-lg text-center",height:"200"},{default:n(()=>[l(g,null,{default:n(()=>[e[7]||(e[7]=r("br",null,null,-1)),r("div",I,[l(p,{label:"username",variant:"outlined",clearable:"","hide-details":"",modelValue:i.value,"onUpdate:modelValue":e[3]||(e[3]=t=>i.value=t),autocomplete:"off"},null,8,["modelValue"]),l(f,{variant:"outlined",color:"secondary",onClick:y,text:"Add"})]),e[8]||(e[8]=r("br",null,null,-1)),(c(!0),D(F,null,S(o.value,(t,H)=>(c(),b(T,{key:t,class:"ma-2",closable:"","onClick:close":J=>N(t)},{default:n(()=>[x(k(t),1)]),_:2},1032,["onClick:close"]))),128)),e[9]||(e[9]=r("br",null,null,-1)),e[10]||(e[10]=r("br",null,null,-1)),o.value.length>0?(c(),b(f,{key:0,variant:"outlined",color:"error",onClick:e[4]||(e[4]=t=>o.value=[]),text:"Remove all"})):q("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})}}};export{O as default};
