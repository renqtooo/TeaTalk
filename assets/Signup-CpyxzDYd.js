import{u as h,o as U,c as q,w as s,r as n,a as k,b as t,d as B,e as c,f as M,g as u}from"./index-D-nN0kHv.js";const j={__name:"Signup",setup(N){const p=h(),v=k(),d=u(null),f=u(!1),m=u(!1),l=u({username:"",email:"",password:""}),o={required:a=>!!a||"Required",minUsername:a=>a.length>=2||"Minimum 2 characters",minPass:a=>a.length>=8||"Minimum 8 characters",email:a=>/.+@.+\..+/.test(a)||"Email not valid"},_=async()=>{const{valid:a}=await d.value.validate();if(a){m.ref=!0;const e={email:l.value.email,password:l.value.password,options:{data:{username:l.value.username}}};(await p.signup(e)).error||v.push({name:"Home"})}};return(a,e)=>{const i=n("v-text-field"),g=n("v-chip"),w=n("v-card-text"),b=n("v-btn"),x=n("v-card-actions"),V=n("v-form"),y=n("v-card"),S=n("v-container");return U(),q(S,{class:"fill-height d-flex align-center justify-center"},{default:s(()=>[t(y,{class:"d-flex flex-column align-center w-100","max-width":"450"},{title:s(()=>[...e[3]||(e[3]=[M("span",{class:"text-h4 font-weight-bold mt-4"},"Signup",-1)])]),default:s(()=>[t(V,{ref_key:"form",ref:d,class:"w-100",onSubmit:B(_,["prevent"])},{default:s(()=>[t(w,null,{default:s(()=>[t(i,{modelValue:l.value.username,"onUpdate:modelValue":e[0]||(e[0]=r=>l.value.username=r),label:"Username",variant:"outlined",clearable:"",rules:[o.required,o.minUsername]},null,8,["modelValue","rules"]),t(i,{modelValue:l.value.email,"onUpdate:modelValue":e[1]||(e[1]=r=>l.value.email=r),label:"Email",variant:"outlined",clearable:"",rules:[o.required,o.email]},null,8,["modelValue","rules"]),t(i,{modelValue:l.value.password,"onUpdate:modelValue":e[2]||(e[2]=r=>l.value.password=r),label:"Password",type:"password",variant:"outlined",clearable:"",rules:[o.required,o.minPass]},null,8,["modelValue","rules"]),e[5]||(e[5]=c(" Already registered? ",-1)),t(g,{size:"small",label:"",to:"/signin"},{default:s(()=>[...e[4]||(e[4]=[c("Sign in",-1)])]),_:1})]),_:1}),t(x,{class:"justify-end w-100"},{default:s(()=>[t(b,{type:"submit",variant:"tonal",color:"secondary",size:"large",disabled:f.value,loading:m.value,text:"Signup"},null,8,["disabled","loading"])]),_:1})]),_:1},512)]),_:1})]),_:1})}}};export{j as default};
